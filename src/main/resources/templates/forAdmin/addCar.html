<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<title>Add category</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

</head>

<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">

<body>
	<th:block th:insert="fragments/navBar.html"/>

	<h1 align="center">Add new car</h1>

	<div align="center">
	<form class="form-horizontal" th:action="@{${'/admin/'+currentCategory+'/addCar'}}" method="post" enctype="multipart/form-data">
	
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">*Name:</font></label>
      <div class="col-sm-10">
        <input type="text" class="form-control" placeholder="Car name" name="name" required="required">
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Year:</font></label>
      <div class="col-sm-10">
        <input type="number" class="form-control" name="year" value="2010" required="required">
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Transmission:</font></label>
      <div class="col-sm-10">
        	<input type="radio" name="transmission" value="MECHANICAL"> Mechanical <br/>
    		<input type="radio" name="transmission" value="HYDROMECHANICAL"> Hydromechanical <br/>
    		<input type="radio" name="transmission" value="HYDRAULIC"> Hydraulic <br/>
    		<input type="radio" name="transmission" value="ELECTROMECHANICAL"> Electromechanical <br/>
    		<input type="radio" name="transmission" value="AUTOMATIC"> Automatic <br/>
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Fuel consumption per 100 km:</font></label>
      <div class="col-sm-10">
        <input type="number" class="form-control"  step="0.01" name="fuelConsumption"> 
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Fuel type:</font></label>
      <div class="col-sm-10">
        	<input type="radio" name="fuelType" value="PETROL"> Petrol <br/>
			<input type="radio" name="fuelType" value="DIESEL"> Diesel <br/>
			<input type="radio" name="fuelType" value="ELECTRIC"> Electric <br/>
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Number of seats:</font></label>
      <div class="col-sm-10">
        <input type="number" class="form-control" name="numberOfSeats" value=2> 
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Maximal speed:</font></label>
      <div class="col-sm-10">
        <input type="number" class="form-control" step="0.01" name="maxSpeed"> 
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">*Price:</font></label>
      <div class="col-sm-10"> 
        1-3 days:<input type="number" class="form-control" step="0.01" name="priceFrom1To3Days" required="required"> 
        4-7 days:<input type="number" class="form-control" step="0.01" name="priceFrom4To7Days" required="required"> 
        8-15 days:<input type="number" class="form-control" step="0.01" name="priceFrom8To15Days" required="required"> 
        16-30 days:<input type="number" class="form-control" step="0.01" name="priceFrom16To30Days" required="required"> 
      </div>
    </div>
    
    <div class="form-group">
      <label class="control-label col-sm-2" ><font color="Light Slate Blue" size="4">Preview image:</font></label>
      <div class="col-sm-10">          
        <input type="file" name="file" required="required" accept="image/jpeg,image/png,image/gif" id="file" onchange="Filevalidation(this)">
      </div>
       <label class="control-label col-sm-2" >The uploaded file must be in jpg or png format and have a size of no more than 1 mb</label>
    </div>
    
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>
  </form>
  </div>
</body>
<script> 
    function Filevalidation(fi){ 
        if (fi.files.length > 0) { 
            for (const i = 0; i <= fi.files.length - 1; i++) { 
  
                const fsize = fi.files.item(i).size; 
                const file = Math.round((fsize / 1024)); 
                if (file >= 1024) { 
                    alert( 
                      "File too Big, please select a file less than 1mb"); 
                    fi.value = '';
                } else { 
                    document.getElementById('size').innerHTML = '<b>'
                    + file + '</b> KB'; 
                } 
            } 
        } 
    } 
</script> 
</html>